<?xml version="1.0" encoding="utf-8"?>
<s:View xmlns:fx="http://ns.adobe.com/mxml/2009" 
		xmlns:s="library://ns.adobe.com/flex/spark" title="Watchlist"
		add="loadMovie(event)">
	
	<fx:Script>
		
		<![CDATA[
			
			import com.adobe.serialization.json.JSON;
			
			import mx.events.FlexEvent;
			import mx.rpc.events.ResultEvent;
			
			protected function loadMovie(event:FlexEvent):void
			{
				ws.send();
			}
			
			protected function onResult(event:ResultEvent):void
			{
				var json:String = event.result as String;
				var movie:Object = JSON.decode(json);
				moviePoster.source = movie.Poster;
				movieTitle.text = movie.Title;
				movieYear.text = movie.Year;
				movieRating.text = movie.Rating;
				movieGenre.text = movie.Genre;
				movieRuntime.text = movie.Runtime;
				moviePlot.text = movie.Plot;
				//twitters = new ArrayList(arrTwitters);
			}
			
		]]>
	</fx:Script>
	
	<fx:Declarations>
		<s:HTTPService url="http://www.imdbapi.com/?t={escape(data as String)}" 
					   resultFormat="text" id="ws" 
					   result="onResult(event)"/>
		
	</fx:Declarations>
	<s:Image x="119" y="29" width="234" height="280" id="moviePoster" />
	<s:Label x="10" y="327" width="460" height="86" id="movieTitle" fontSize="40" text="Title" textAlign="center"/>
	
	<s:Label x="20" y="441" width="153" text="Year" color="0x666666" />
	<s:Label x="20" y="481" width="153" text="Rating" color="0x666666" />
	<s:Label x="20" y="521" width="153" text="Genre" color="0x666666" />
	<s:Label x="20" y="561" width="153" text="Runtime" color="0x666666" />
	<s:Label x="20" y="601" width="153" text="Plot" color="0x666666" />
	
	<s:Label x="160" y="441" width="310" id="movieYear" text="Year"/>
	<s:Label x="160" y="481" width="310" id="movieRating" text="Rating"/>
	<s:Label x="160" y="521" width="310" id="movieGenre" text="Genre"/>
	<s:Label x="160" y="561" width="310" id="movieRuntime" text="Runtime"/>
	<s:Label x="160" y="601" width="310" id="moviePlot" height="84" text="Plot"/>
	
</s:View>